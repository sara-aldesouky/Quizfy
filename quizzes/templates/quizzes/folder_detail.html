{% extends "base.html" %}
{% block title %}Folder: {{ folder.name }}{% endblock %}

{% block content %}

<div class="row" style="align-items:flex-end; gap:14px; margin-bottom:14px;">
  <div>
    <h1 style="margin:0;">{{ folder.name }}</h1>
    <p style="margin:6px 0 0; color:var(--muted);">
      {{ quizzes|length }} quiz{{ quizzes|length|pluralize:"zes" }} in this folder
    </p>
  </div>

  <div class="actions" style="margin-left:auto; gap: 8px;">
    <a class="btn" href="{% url 'teacher_quizzes' %}">â† Back</a>
    <a class="btn primary" href="{% url 'create_quiz' %}?folder={{ folder.id }}">+ Create Quiz</a>
    <a class="btn danger" href="{% url 'delete_folder' folder.id %}" title="Delete Folder">ğŸ—‘ï¸ Delete Folder</a>
  </div>
</div>

{% if quizzes %}
  {% for quiz in quizzes %}
    <div class="card compact quiz-card">
      <div class="quiz-card-header">
        <div class="quiz-info">
          <h2 style="margin:0; font-size:18px; color:var(--text);">
            {{ quiz.title }}
          </h2>
          <p style="margin:6px 0 0; color:var(--muted); font-size: 13px;">
            Code: <b>{{ quiz.code }}</b>
            {% if quiz.created_at %} Â· {{ quiz.created_at|date:"M d, Y" }}{% endif %}
            Â· {{ quiz.submitted_count }}/{{ quiz.assigned_count }} submitted
          </p>
        </div>
        <div class="quiz-actions">
          <a class="btn primary" href="{% url 'teacher_quiz_detail' quiz.id %}">Open</a>
        </div>
      </div>
    </div>
  {% endfor %}
{% else %}
  <div class="card">
    <p style="margin:0; color:var(--muted);">
      No quizzes in this folder yet.
    </p>
  </div>
{% endif %}

<style>
.quiz-card {
  margin-bottom: 12px;
}

.quiz-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.quiz-info {
  flex: 1;
  min-width: 0;
}

.quiz-actions {
  display: flex;
  gap: 8px;
  flex-shrink: 0;
}

@media (max-width: 600px) {
  .quiz-card-header {
    flex-direction: column;
    align-items: stretch;
  }
  
  .quiz-actions {
    margin-top: 12px;
  }
}
</style>

{% endblock %}
